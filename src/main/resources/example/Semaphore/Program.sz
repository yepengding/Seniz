import SharedVars

system Program () over Vars with SharedVars {

    init plain -> wait
    wait [y > 0] -> @{y:y-1} critical
    critical -> @increaseY plain

    plain = {
        loc: 1
    }

    wait = {
        loc: 2
    }

    critical = {
        loc: 3
    }

    @increaseY = {
        y: y + 1
    }

}

varset Vars {
    loc :: int
}